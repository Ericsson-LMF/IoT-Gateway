package com.ericsson.deviceaccess.upnp;

import org.junit.Test;

public class TestDIDLHandler {

    @Test
    public void parseLocalFile() throws Exception {
//		UPnPDevice dev = mock(UPnPDevice.class);
//		ContentDirectoryUPnPImpl cds = new ContentDirectoryUPnPImpl(dev);
//		
//		File file = new File("src/test/resources/contents.xml");
//		
//		String didl = getString(file);
//		Vector objects = cds.getMediaObjectVector(didl);
//		assertEquals(6, objects.size());
//		MediaItem item = (MediaItem)objects.get(1);
//		assertEquals("Start from the last scene", item.getName());
//		assertEquals("http://192.168.1.95:9081/get_main", item.getUrl());
//	}
//	
//	@Test
//	public void testEmptyResult() throws Exception {
//		UPnPDevice dev = mock(UPnPDevice.class);
//		ContentDirectoryUPnPImpl cds = new ContentDirectoryUPnPImpl(dev);
//		
//		File file = new File("src/test/resources/empty.xml");
//		
//		String didl = getString(file);
//		Vector objects = cds.getMediaObjectVector(didl);
//		assertEquals(0, objects.size());
//	}
//	
//	String getString(File file) throws IOException{
//		FileReader fr = new FileReader(file);
//		BufferedReader br = new BufferedReader(fr);
//		String result = "";
//		String line;
//		while((line = br.readLine()) != null){
//			result += line + "\n";
//		}
//		return result;
    }
}
